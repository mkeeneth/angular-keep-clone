<div
  fxLayout="row"
  fxFlex.md="98"
  fxLayoutWrap
  class="card-deck-container mat-elevation-z4"
  *ngIf="notes$"
>
  <div
    fxFlex
    *ngFor="let note of (notes$ | async); trackBy: trackByItem"
    class="card-item"
    [@slideInOut]="note.isEditing ? true : false"
  >
    <mat-card>
      <!-- normal view -->
      <mat-card-header *ngIf="!note.isEditing" style="padding-right: 6px;">
        <mat-card-title>{{ note.title }}</mat-card-title>
        <button class="note-options" mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <app-edit-note [id]="note.id"></app-edit-note>
          <app-remove-note [id]="note.id"></app-remove-note>
        </mat-menu>
      </mat-card-header>
      <mat-card-content *ngIf="!note.isEditing" [innerHTML]="render(note.body)"></mat-card-content>

      <!-- for note edit -->
      <app-update-note-form *ngIf="note.isEditing" [note]="note"></app-update-note-form>
    </mat-card>
  </div>
</div>
